---
name: StageCanvas
inherits: CanvasLayer

signals:
  - name: tick_changed
    args:
      - name: new_tick
        type: "Variant"
    description: Emitted when the game tick changes.
  - name: game_changed
    description: |
        Emitted when the game instance is refreshed. Typically takes place when the stage first loads and when the game replays.
        This is to ensure that all materials that *need* a reference to the game *have* one.

properties:
  - name: game
    type: "Node2D"
    setter: "set_game(value)"
    description: Holds a reference to the current game scene.

  - name: data
    type: "Dictionary"
    default: "{}"
    description: Holds this object's material metadata, which is generated by [*CustomStageBuilder*](./CSL/CustomStageBuilder).

  - name: current_tick
    type: "int"
    default: 0
    description: Holds the current game tick, which is recieved from the [game node](#game).

methods:
  - name: game_check
    description: |
        This function checks to ensure the current [`game`](#game) reference is a valid instance.
        If it is a valid instance, then [`tick_check`](#tick_check) is called.
        
        This function is invoked on every process tick, using the `_process(_d)` function.

  - name: tick_check
    description: |
        This function refreshes the value held in [`current_tick`](#current_tick).
        
        This function is invoked every time the [`game_check`](#game_check) function is invoked.
---

{{{renderName}}}

{{{renderInherits}}}

{{{renderInheritedBy}}}

This class holds stage materials.

[](../../notice.md ':include')

## Description

This class is the main holder for all stage materials. The signals in this class are typically bound to every stage material. 
See [*Root hooks*](../root_hooks.md) for more information.

## Properties

{{{renderPropertyTable}}}
## Methods

{{{renderMethodTable}}}

## Signals

?> Note: The signals here tend to be bound to *every* stage material. See [*Root hooks*](../root_hooks.md)

{{{renderSignals}}}
## Property Descriptions

{{{renderPropertyDescriptions}}}
## Method Descriptions

{{{renderMethodDescriptions}}}
